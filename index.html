
<!DOCTYPE html>
<html>
    <body>
      <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Welcome to Directions service</title>
    
    <p>Welcome to Directions service</p>
    
    <p></p>
    
    <p id="time"></p>
    
    <p id="coOrdinates"></p>

    <p id="currentLoc"> </p>
    
    <p id='protocol'> </p>
    <p> <a href="./GeoGoogle.html"> Show my location</a> </p>

    <p> <a href="./Directions.html"> Show me Directions to estate</a> </p>
    
    <p> <a href="https://www.google.com/maps/@12.9103679,75.6937259,625m/data=!3m1!1e3!4m2!10m1!1e2?hl=en-IN"> Skyview of estate on Google Maps</a> </p>
            
          
     <div id='map'></div>
     
             
    <!--<script src="//maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script> -->
          
    <script>
      var myLat;
      var myLong;
      var destinationLat;
      var destinationLong;
                
      function pageProtocol(){
       console.log ('calling pageProtocol()');
          document.getElementById("protocol").innerHTML = "Page protocol is " + window.location.protocol;
      }
        pageProtocol();
        
        function showTime(){
        document.getElementById("time").innerHTML = "Time now is : " + Date().toString();
      }
      showTime();
      console.log("calling showTime()");
        
        //timer
        console.log('before setInterval timer function');
        var myVar = setInterval(showTime(), 1000); //every 1 seconds
        //clearInterval(myVar);
        
        // Get the current co-ordinates
        function showCurrentPosition(position) {
            //myLat = position.coords;
            //myLong = position.coords.longitude;
            document.getElementById("coOrdinates").innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
            
            //var img = new Image();
            //img.src = "https://maps.googleapis.com/maps/api/staticmap?center=" + latitude + "," + longitude + "&zoom=13&size=300x300&sensor=false";
            //output.appendChild(img);
        }
        function getCurrentLocation(position) {
            
            if(!!navigator.geolocation) {
                
                navigator.geolocation.getCurrentPosition(showCurrentPosition(position));
                
                
            } else { 
                document.getElementById("coOrdinates").innerHTML = "Geolocation is not supported by this browser.";
                console.log("Geolocation is not supported by this browser.");
                }
        }
    
        
        var position;
        getCurrentLocation(position);
        
        //this is for the Google Map init callback
        function initMap(){
         console.log("in initMap()");   
        }
     </script>
      
  </head>
    </body>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8U_4A6IKk956Lcw_MW5Erw8zvRYWBbBA&callback=initMap">
    </script>
</html>
